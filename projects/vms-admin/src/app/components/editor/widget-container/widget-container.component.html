<!-- Input file -->
<input #file type="file" (change)="changeImage(file.files, item)" accept=".jpg, .jpeg, .png" class="d-none">
<!-- Widget container -->
<div
  class="w-100 h-100 position-relative container_widget_host animate__animated animate__fast active-btn-customise"
  [ngClass]="{
    'active-resize-mark': item.id==currentFoscusId && !viewOnly,
    'animate__fadeOut': currentFoscusId && item.id!==currentFoscusId && !viewOnly && this.screenType === 'dashboard',
    'animate__fadeIn': !currentFoscusId && !viewOnly
  }"
  [ngStyle]="{'background': notTransparentBgType()?globalConfig.themeWidgetBackground:'transparent'}">
  <div class="overlay" *ngIf="!viewOnly"></div>
  <!-- Resize mark -->
  <div *ngIf="disableResizeAndButton" class='resizers' style="display: none;"
    [class]="item?.widget?.config?.disabled ? 'disable' : 'enable'">
    <div class='label'>{{this.type == 'component' ? 'widget' : item?.widget?.config?.disabled ? 'Disable '+this.type : this.type }}</div>
    <div class='resizer left'></div>
    <div class='resizer right'></div>
    <div class='resizer top-left'></div>
    <div class='resizer top-center'></div>
    <div class='resizer top-right'></div>
    <div class='resizer bottom-left'></div>
    <div class='resizer bottom-center'></div>
    <div class='resizer bottom-right'></div>
  </div>

  <ng-container #widgetHost></ng-container>

  <!-- Image -->
  <span *ngIf="disableResizeAndButton"
    [class.d-block]="item.id==currentFoscusId && !viewOnly && type == 'image'" 
    [class.icon_tools_hover_active]="this.type == 'image'" class="drag_box d-none" style="height: 40px; width: auto;">
    <div class="position-absolute d-flex container_btn" [style.left.px]="0">
      <!-- input file -->
      <button (click)="file.click(); $event.stopPropagation();" class="btn align-self-center btn_pill btn_change_image">
        Change image
      </button>
      <button (click)="showHideImage($event, item)" class="btn btn-light rounded-circle align-self-center btn_eye">
        <i [class.feather-eye]="!item.widget.config.disabled" [class.feather-eye-off]="item.widget.config.disabled" class="text-primary"></i>
      </button>
    </div>
  </span>

  <!-- # Other -->
  <span *ngIf="disableResizeAndButton"
    [class.d-block]="item.id==currentFoscusId && !viewOnly && type!='image'"
    [class.icon_tools_hover_active]="this.type != 'image'" class="drag_box d-none" style="height: 40px; width: auto;">
    <div class="position-absolute d-flex container_btn" [style.left.px]="0">
      <button *ngIf="!item.widget.required && type!='input' && type!='link' && type!='textbox' && type!='button' && type!='link'" class="btn btn-sm btn-light rounded-circle align-self-center mx-1 icon_copy" (click)="duplicateWidget($event)">
        <span class="material-icons mt-1">content_copy</span>
      </button>
      <button (click)="clickToggleFocus($event, item)" class="btn btn-sm btn-light rounded-circle align-self-center mx-1 icon_custom">
        <img src="assets/images/Icon-Edit tool-Customise.png" alt="Icon-Edit tool-Customise">
      </button>
      <button *ngIf="!item.widget.required && type!='input' && type!='link' && type!='textbox' && type!='button' && type!='link'" (click)="removeWidget($event)" class="btn btn-sm btn-light rounded-circle align-self-center mx-1 icon_delete">
        <i class="feather-trash-2"></i>
      </button>
    </div>
  </span>
</div>
