<div [ngDraggable]="true" [handle]="DragHandle" [bounds]="myBounds" [inBounds]="true" (click)="$event.stopImmediatePropagation()" class="customise_text row p-1 m-1">
    <div class="col-12">
        <div class="d-flex justify-content-between align-items-center text-primary my-2">
            <div class="d-flex justify-content-start align-items-center cursor_move" #DragHandle>
                <img src="assets/images/Icon-Edit tool-Customise.png" alt="Icon-Edit tool-Customise">
                <span class="h6 m-0 pl-1 font-weight-bold">Customise/Text</span>
            </div>
            <img src="assets/images/Icon-Edit tool-Close.png" alt="Icon-Edit tool-Close" (click)="onClose(); $event.stopImmediatePropagation()" class="cursor_pointer">
        </div>
        <!-- Text -->
        <ng-container *ngIf="!canActivate('systemText')">
            <p class="mt-4 text-secondary">Text</p>
            <textarea rows="2" placeholder="Enter text here" class="form-control scroll-gray" maxlength="1000" [value]="currentWidget.widget?.config?.value" (input)="currentWidget.widget.config.value = text.value" #text></textarea>
        </ng-container>
        <!-- URL Link -->
        <ng-container *ngIf="!canActivate('systemText') && canActivate('url')">
            <p class="mt-3 text-secondary">URL <i class="feather-link"></i></p>
            <textarea rows="2" placeholder="Enter url here" class="form-control scroll-gray" maxlength="1000" [value]="currentWidget.widget?.config?.url" (input)="currentWidget.widget.config.url = link.value" #link></textarea>
        </ng-container>
        <!-- Font -->
        <p class="mt-3 text-secondary">Font</p>
        <p-dropdown [options]="fontFamilyItems" [(ngModel)]="fontFamily" (onChange)="onChangeFontFamily($event.value)"  placeholder="Font" [filter]="false" [styleClass]="'w-100 border-0 my-1'"></p-dropdown>
        <p-dropdown [options]="fontTypeItems | filterByArea: 'family': fontFamily" [(ngModel)]="fontType" (onChange)="onChangeFontType($event.value)" placeholder="Style" [filter]="false" [styleClass]="'w-100 my-1 border-0'"></p-dropdown>
        <div class="row">
            <div class="col-6 position-relative">
                <div class="row">
                    <div class="col-12 text-secondary">Size</div>
                    <div class="col-12">
                        <input type="number" [value]="fontSize" class="form-control text-center border_button" (input)="currentWidget.widget.config.styles['font-size'] = $event.target.value + 'px'" (change)="onChangeWidget(currentWidget)">
                    </div>
                </div>
            </div>
            <div class="col-6">
                <div class="row">
                    <div class="col-12 pl-0 text-secondary">Align</div>
                    <div class="col-12 pl-0">
                        <div class="row mr-0 mt-2">
                            <div class="col-4 text-center" (click)="currentWidget.widget.config.styles['text-align'] = 'left'; onChangeWidget(currentWidget)">
                                <i class="feather-align-left" [class.active]="currentWidget.widget.config.styles['text-align'] == 'left'"></i>
                            </div>
                            <div class="col-4 text-center" (click)=" currentWidget.widget.config.styles['text-align'] = 'right'; onChangeWidget(currentWidget)">
                                <i class="feather-align-right" [class.active]="currentWidget.widget.config.styles['text-align'] == 'right'"></i>
                            </div>
                            <div class="col-4 pr-0 text-center" (click)="currentWidget.widget.config.styles['text-align'] = 'center'; onChangeWidget(currentWidget)">
                                <i class="feather-align-center" [class.active]="currentWidget.widget.config.styles['text-align'] == 'center'"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Color -->
        <p class="mt-4 text-secondary">Color</p>
        <div class="d-flex align-items-center justify-content-between">
            <div class="col-2 pl-0">{{currentWidget?.widget?.config.styles.hasOwnProperty('opacity') ? currentWidget?.widget?.config.styles.opacity : 100}}%</div>
            <div class="col-10 pr-0">
                <input type="range" [value]="currentWidget?.widget?.config.styles.hasOwnProperty('opacity') ? currentWidget?.widget?.config.styles.opacity : 100" class="w-100 d-flex align-items-center" (input)="onOpacity($event.target.value)"> 
            </div>
        </div>
        <div class="row px-2 mt-2 mb-3">
            <div class="color" style="background: #FFFFFF;" (click)="currentWidget.widget.config.styles['color'] = '#FFFFFF';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #FAFAFA;" (click)="currentWidget.widget.config.styles['color'] = '#FAFAFA';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #EAEAEA;" (click)="currentWidget.widget.config.styles['color'] = '#EAEAEA';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #959393;" (click)="currentWidget.widget.config.styles['color'] = '#959393';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #212121;" (click)="currentWidget.widget.config.styles['color'] = '#212121';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #9FFFB1;" (click)="currentWidget.widget.config.styles['color'] = '#9FFFB1';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #97C9DE;" (click)="currentWidget.widget.config.styles['color'] = '#97C9DE';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #919DEB;" (click)="currentWidget.widget.config.styles['color'] = '#919DEB';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #C58ECC;" (click)="currentWidget.widget.config.styles['color'] = '#C58ECC';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #E8829A;" (click)="currentWidget.widget.config.styles['color'] = '#E8829A';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #EA857A;" (click)="currentWidget.widget.config.styles['color'] = '#EA857A';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #9DCB7A;" (click)="currentWidget.widget.config.styles['color'] = '#9DCB7A';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #73B18D;" (click)="currentWidget.widget.config.styles['color'] = '#73B18D';  onChangeWidget(currentWidget)"></div>
            <div class="color" style="background: #70AFAA;" (click)="currentWidget.widget.config.styles['color'] = '#70AFAA';  onChangeWidget(currentWidget)"></div>
        </div>
    </div>
</div>
